{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project/./src/components/data.js","webpack://mesto-project/./src/components/utils.js","webpack://mesto-project/./src/components/modal.js","webpack://mesto-project/./src/components/api.js","webpack://mesto-project/./src/components/validate.js","webpack://mesto-project/./src/components/card.js","webpack://mesto-project/./src/components/index.js"],"sourcesContent":["const openPopupNewCard = document.querySelector('.profile__add');\nconst popupNewCard = document.querySelector('#popup-new-card');\nconst popupProfile = document.querySelector('#profile-info');\nconst openPopupProfile = document.querySelector('.profile__edit');\nconst profileTitle = document.querySelector('.profile__title');\nconst profileSubtitle = document.querySelector('.profile__subtitle');\nconst cardsContainer = document.querySelector('.cards');\nconst popupImage = document.querySelector('.popup-image__background');\nconst popupImagePhoto = document.querySelector('.popup-image__photo');\nconst popupImageText = document.querySelector('.popup-image__text');\nconst closeButtons = document.querySelectorAll('.popup__close');\nconst cardTemplate = document.querySelector('#card-template').content;\nconst popupImageCloseClick = document.querySelector('.popup-image');\nconst profileForm = document.forms['form-profile'];\nconst nameProfile = profileForm.querySelector('#input-name')\nconst professionProfile = profileForm.querySelector('#input-profession');\nconst cardForm = document.forms['form-place'];\nconst namePlace = cardForm.querySelector('#input-name-place');\nconst linkPlace = cardForm.querySelector('#input-link');\nconst profileBtnChangeAvatarImg = document.querySelector('.profile__btn-change-avatar-img');\nconst popupChangeAvatarImg = document.querySelector('#popup-change-avatar-img');\nconst buttonPlus = document.querySelector('#create-new-card')\nconst buttonSaveUbdateAvatarImg = document.querySelector('#create-avatar-img')\nconst formChangeAvatar = document.querySelector('.change-avatar-img')\nconst inputChangeAvatarImg = formChangeAvatar.querySelector('#input-change-avatar-img')\nconst profileAvatar = document.querySelector('.profile__avatar')\nconst profileInfoButton = document.querySelector('#profile-info-button')\n\n\nconst allElements = {\n  formSelector: '.form',\n  inputSelector: '.form__item',\n  submitButtonSelector: '.form__button',\n  inactiveButtonClass: 'form__button_inactive',\n  inputErrorClass: 'form__item-error',\n  errorClass: 'form__item_border-bottom-red'\n};\n\n\n\nexport {openPopupProfile, profileForm, openPopupNewCard,  popupNewCard, popupProfile, profileTitle, profileSubtitle, cardsContainer, popupImage, popupImagePhoto, popupImageText, closeButtons,cardTemplate, popupImageCloseClick, nameProfile, professionProfile, namePlace, linkPlace, allElements, cardForm, popupChangeAvatarImg, buttonPlus, buttonSaveUbdateAvatarImg, profileBtnChangeAvatarImg, inputChangeAvatarImg, formChangeAvatar, profileAvatar, profileInfoButton};\n","import {\n  profileTitle,\n  profileAvatar,\n  profileSubtitle,\n} from './data.js';\n\n\nexport let userId;\n\nfunction updateUserData(userInfo) {\n  profileTitle.textContent = userInfo.name;\n  profileSubtitle.textContent = userInfo.about;\n  profileAvatar.src = userInfo.avatar;\n  userId = userInfo._id;\n}\n\n\n\nfunction renderLoading(button, isLoading, buttonText='Сохранить', loadingText='Сохранение...') {\n  if (isLoading) {\n    button.textContent = loadingText\n  } else {\n    button.textContent = buttonText\n  }\n}\n\n\n\nexport { updateUserData, renderLoading,};\n","import {\n  popupImage,\n  nameProfile,\n  profileTitle,\n  popupImageText,\n  popupImagePhoto,\n  profileSubtitle,\n  professionProfile,\n} from './data.js';\n\n\n\nfunction handleEscUp(evt) {\n  if (evt.key === 'Escape') {\n    const activePopup = document.querySelector('.popup_opened');\n    closePopup(activePopup);\n  }\n}\n\nfunction openPopup(popupElement) {\n  popupElement.classList.add('popup_opened');\n  document.addEventListener('keydown', handleEscUp);\n}\n\nfunction closePopup(popupElement) {\n  popupElement.classList.remove('popup_opened');\n  //  Удаляем слушатель события по кнопке Esc\n  document.removeEventListener('keydown', handleEscUp);\n}\n\nfunction openFullScreenImageCard(name, link) {\n  popupImageText.textContent = name;\n  popupImagePhoto.src = link;\n  popupImagePhoto.alt = name;\n  openPopup(popupImage);\n}\n\nfunction fillProfileInputs() {\n  nameProfile.value = profileTitle.textContent;\n  professionProfile.value = profileSubtitle.textContent;\n}\n\n\n\nexport { openPopup, closePopup, openFullScreenImageCard, fillProfileInputs };\n","\nconst config = {\n  baseUrl: 'https://nomoreparties.co/v1/plus-cohort-22',\n  headers: {\n    authorization: '6e5640a5-11fb-4751-8dd5-68a754a9c24b',\n    'Content-Type': 'application/json'\n  }\n}\n\n\nconst checkErrorPromise = (res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return res.json()\n    .then((err) => {\n      err.statusCode = res.status;\n      return Promise.reject(err)\n    })\n};\n\n\n\n\n\n\nexport const getUserInfo = () => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    headers: config.headers\n  })\n    .then(checkErrorPromise)\n}\n\n\nexport const getInitialCards = () => {\n  return fetch(`${config.baseUrl}/cards`, {\n    headers: config.headers\n  })\n    .then(checkErrorPromise)\n}\n\n\nexport const editUserInfo = ({name, about}) => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    method: 'PATCH',\n    headers: config.headers,\n    body: JSON.stringify({\n      name: `${name}`,\n      about: `${about}`\n    })\n  })\n    .then(checkErrorPromise)\n}\n\n\nexport const addNewCardServer = ({name, link}) => {\n  return fetch(`${config.baseUrl}/cards`, {\n    method: 'POST',\n    headers: config.headers,\n    body: JSON.stringify({\n      name: `${name}`,\n      link: `${link}`\n    })\n  })\n    .then(checkErrorPromise)\n}\n\n\n\nexport const likesCards = (id, like) => {\n  return fetch(`${config.baseUrl}/cards/likes/${id}`, {\n    method: like? 'PUT' : 'DELETE',\n    headers: config.headers,\n  })\n    .then(checkErrorPromise)\n}\n\n\n\nexport const deleteCardServer = (id) => {\n  return fetch(`${config.baseUrl}/cards/${id}`, {\n    method: 'DELETE',\n    headers: config.headers,\n  })\n    .then(checkErrorPromise)\n}\n\n\n\nexport const changeAvatarImg = (link) => {\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: config.headers,\n    body: JSON.stringify({\n      avatar: link\n    })\n  })\n    .then(checkErrorPromise)\n}\n\n\n\n\n","import { allElements } from './data.js';\n\n// Функция, которая добавляет класс с ошибкой\nfunction showInputError(formElement, inputElement, errorMessage, objectElements) {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.add(objectElements.errorClass);\n  errorElement.textContent = errorMessage;\n}\n\n// Функция, которая удаляет класс с ошибкой\nfunction hideInputError(formElement, inputElement, objectElements) {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.remove(objectElements.errorClass);\n  errorElement.textContent = '';\n}\n\nfunction checkValidityForm(formElement, inputElement) {\n  if (inputElement.validity.patternMismatch) {\n    // встроенный метод setCustomValidity принимает на вход строку\n    // и заменяет ею стандартное сообщение об ошибке\n    inputElement.setCustomValidity('Разрешены только латинские, кириллические буквы, знаки дефиса и пробелы');\n  } else {\n    // если передать пустую строку, то будут доступны\n    // стандартные браузерные сообщения\n    inputElement.setCustomValidity('');\n  }\n  if (!inputElement.validity.valid) {\n    showInputError(formElement, inputElement, inputElement.validationMessage, allElements);\n  } else {\n    hideInputError(formElement, inputElement, allElements);\n  }\n}\n\n// Для этого создадим функцию hasInvalidInput.\n// Она принимает массив полей формы и возвращает true,\n//  если в нём хотя бы одно поле не валидно,\n//  и false, если все валидны.\nfunction hasInvalidInput(inputList) {\n  return inputList.some((inputElement) => {\n    return !inputElement.validity.valid;\n  });\n}\n\n// Функция принимает массив полей ввода\n// и элемент кнопки, состояние которой нужно менять\nfunction toggleButtonState(inputList, buttonElement, objectElements) {\n  if (hasInvalidInput(inputList)) {\n    disableButton(buttonElement, objectElements);\n  } else {\n    enableButton(buttonElement, objectElements);\n  }\n}\n\nfunction disableButton(buttonElement, objectElements) {\n  buttonElement.disabled = true;\n  buttonElement.classList.add(objectElements.inactiveButtonClass);\n}\n\nfunction enableButton(buttonElement, objectElements) {\n  buttonElement.disabled = false;\n  buttonElement.classList.remove(objectElements.inactiveButtonClass);\n}\n\n\nfunction setEventListeners(formElement, objectElements) {\n  const inputList = Array.from(formElement.querySelectorAll(objectElements.inputSelector));\n  const buttonElement = formElement.querySelector(objectElements.submitButtonSelector);\n\n  toggleButtonState(inputList, buttonElement, allElements);\n\n\n\n  inputList.forEach((inputElement) => {\n    inputElement.addEventListener('input', () => {\n      checkValidityForm(formElement, inputElement);\n      toggleButtonState(inputList, buttonElement, allElements);\n    });\n  });\n}\n\n\n\n// Найдём все формы с указанным классом в DOM,\nfunction enableValidation(objectElements) {\n  const formList = Array.from(document.querySelectorAll(objectElements.formSelector));\n  formList.forEach((formElement) => {\n    formElement.addEventListener('submit', (evt) => {\n      evt.preventDefault();\n    });\n      setEventListeners(formElement, allElements);\n  });\n}\n\n\nexport { enableValidation, disableButton, hideInputError };\n\n\n\n","import {\n  cardForm,\n  namePlace,\n  linkPlace,\n  cardTemplate,\n  popupNewCard,\n  cardsContainer,\n} from './data.js';\nimport { renderLoading, userId } from './utils';\nimport { openFullScreenImageCard, closePopup } from './modal.js';\nimport { getInitialCards, addNewCardServer, likesCards, deleteCardServer, } from './api.js';\n\n\n// Добавляем новую карточку через кнопку +\nfunction addNewCard(evt) {\n  evt.preventDefault();\n  renderLoading(evt.submitter, true);\n  addNewCardServer({\n    name: namePlace.value,\n    link: linkPlace.value,\n  })\n    .then((card) => {\n      cardsContainer.prepend(createCard(card));\n      cardForm.reset();\n      closePopup(popupNewCard);\n    })\n    .catch((error) => console.log(`Ошибка при добовлении карточки: ${error}`))\n    .finally(() => renderLoading(evt.submitter, false));\n}\n\n\n\nfunction createCard(card) {\n  const newCard = cardTemplate.querySelector('.card').cloneNode(true);\n  const cardTitle = newCard.querySelector('.card__title');\n  const cardImg = newCard.querySelector('.card__img');\n  const buttonDeleteCard = newCard.querySelector('.card__trash');\n  const numberLikeCard = newCard.querySelector('.card__number-like');\n  const likeCard = newCard.querySelector('.card__heart');\n\n  cardTitle.textContent = card.name;\n  if (card.likes.length > 0) {\n    numberLikeCard.textContent = card.likes.length;\n  }\n  cardImg.src = card.link;\n  cardImg.alt = card.name;\n  newCard.setAttribute('id', card._id);\n  newCard.setAttribute('owner', card.owner._id);\n\n  if (userId === newCard.getAttribute('owner')) {\n    buttonDeleteCard.classList.add('card__trash_visible');\n  }\n\n if (card.likes.map(item => item._id).includes(userId)) {\n  likeCard.classList.add('card__heart_checked')\n }\n\n  likeCard.addEventListener('click', (evt) => {\n    checkLikes(likeCard, newCard.getAttribute('id'), evt.target)\n  });\n\n  buttonDeleteCard.addEventListener('click', (evt) => {\n    deleteCard(newCard.getAttribute('id'), evt)\n  });\n\n  cardImg.addEventListener('click', () => {\n    openFullScreenImageCard(card.name, card.link);\n  });\n  return newCard;\n}\n\n\nfunction deleteCard (idCard, evt) {\n  deleteCardServer(idCard)\n  .then(() => {\n    evt.target.closest('.card').remove();\n  })\n  .catch((error) => console.log(`Произошла ошибка удаления карточки: ${error}`))\n}\n\n\nfunction changeLike (element, like, evt) {\n  element.closest('.card').querySelector('.card__number-like').textContent = like.likes.length;\n  evt.classList.toggle('card__heart_checked')\n}\n\nfunction checkLikes (element, id, evt) {\n  if (evt.classList.contains('card__heart_checked')) {\n    likesCards(id)\n    .then(like => {\n      changeLike(element, like, evt)\n    })\n    .catch((error) => console.log(`Произошла ошибка удаления лайка: ${error}`))\n  } else {\n    likesCards(id, 'like')\n    .then(like => {\n      changeLike(element, like, evt)\n    })\n    .catch((error) => console.log(`Произошла ошибка при добавлении лайка: ${error}`))\n  }\n}\n\n\n\nexport { addNewCard, createCard, getInitialCards };\n\n\n\n","import {\n  cardForm,\n  namePlace,\n  linkPlace,\n  buttonPlus,\n  allElements,\n  nameProfile,\n  profileForm,\n  popupProfile,\n  popupNewCard,\n  closeButtons,\n  profileAvatar,\n  cardsContainer,\n  openPopupProfile,\n  formChangeAvatar,\n  openPopupNewCard,\n  professionProfile,\n  profileInfoButton,\n  popupChangeAvatarImg,\n  inputChangeAvatarImg,\n  buttonSaveUbdateAvatarImg,\n  profileBtnChangeAvatarImg,\n} from './data.js';\nimport '../pages/index.css';\nimport { addNewCard, createCard } from './card.js';\nimport { openPopup, closePopup, fillProfileInputs } from './modal.js';\nimport { changeAvatarImg, getUserInfo, getInitialCards, editUserInfo} from './api.js';\nimport { enableValidation, hideInputError, disableButton } from './validate.js';\nimport { updateUserData, renderLoading, handleSubmit} from './utils';\n\n\n\nenableValidation(allElements);\n\n\nfunction updateAvatarImage(evt) {\n  evt.preventDefault();\n  renderLoading(evt.submitter, true);\n  changeAvatarImg(inputChangeAvatarImg.value)\n    .then((img) => {\n      profileAvatar.src = img.avatar;\n      closePopup(popupChangeAvatarImg);\n    })\n    .catch((error) =>\n      console.log(\n        `Произошла ошибка при попытке редактировании данных пользователя: ${error}`\n      )\n    )\n    .finally(() => renderLoading(evt.submitter, false));\n}\n\n\n// Для закрытия всех popup\ncloseButtons.forEach((button) => {\n  // находим 1 раз ближайший к крестику попап\n  const popup = button.closest('.popup');\n  // устанавливаем обработчик закрытия на крестик\n  button.addEventListener('click', () => closePopup(popup));\n  popup.addEventListener('click', (evt) => {\n    if (evt.target.classList.contains('popup')) {\n      closePopup(popup);\n    }\n  });\n});\n\n\n// Редактирование Профиля\nfunction handleProfileFormSubmit(evt) {\n  evt.preventDefault();\n  renderLoading(evt.submitter, true);\n  editUserInfo({\n    name: nameProfile.value,\n    about: professionProfile.value,\n  })\n    .then((userInfo) => {\n      updateUserData(userInfo);\n      closePopup(popupProfile);\n    })\n    .catch((error) =>\n      console.log(\n        `Произошла ошибка при редактировании данных пользователя: ${error}`\n      )\n    )\n    .finally(() => renderLoading(evt.submitter, false));\n}\n\n\n\nprofileBtnChangeAvatarImg.addEventListener('click', () => {\n  openPopup(popupChangeAvatarImg);\n  hideInputError(formChangeAvatar, inputChangeAvatarImg, allElements);\n  formChangeAvatar.reset();\n  disableButton(buttonSaveUbdateAvatarImg, allElements);\n});\n\nopenPopupProfile.addEventListener('click', () => {\n  fillProfileInputs();\n  openPopup(popupProfile);\n  hideInputError(profileForm, nameProfile, allElements);\n  hideInputError(profileForm, professionProfile, allElements);\n  disableButton(profileInfoButton, allElements);\n});\n\nopenPopupNewCard.addEventListener('click', () => {\n  openPopup(popupNewCard);\n  hideInputError(cardForm, namePlace, allElements);\n  hideInputError(cardForm, linkPlace, allElements);\n  disableButton(buttonPlus, allElements);\n  cardForm.reset();\n});\n\n\ncardForm.addEventListener('submit', addNewCard);\n\nformChangeAvatar.addEventListener('submit', updateAvatarImage);\n\nprofileForm.addEventListener('submit', handleProfileFormSubmit);\n\n\n\nPromise.all([getUserInfo(), getInitialCards()])\n  .then(([userInfo, posts]) => {\n    updateUserData(userInfo);\n    posts.forEach((element) => {\n      const newCard = createCard(element);\n      cardsContainer.append(newCard);\n      });\n  })\n  .catch((error) => console.log(`Ошибка при загрузке приложения: ${error}`))\n\n\n\n\n\n\n\n\n"],"names":["userId","openPopupNewCard","document","querySelector","popupNewCard","popupProfile","openPopupProfile","profileTitle","profileSubtitle","cardsContainer","popupImage","popupImagePhoto","popupImageText","closeButtons","querySelectorAll","cardTemplate","content","profileForm","forms","nameProfile","professionProfile","cardForm","namePlace","linkPlace","profileBtnChangeAvatarImg","popupChangeAvatarImg","buttonPlus","buttonSaveUbdateAvatarImg","formChangeAvatar","inputChangeAvatarImg","profileAvatar","profileInfoButton","allElements","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","updateUserData","userInfo","textContent","name","about","src","avatar","_id","renderLoading","button","isLoading","buttonText","arguments","length","undefined","loadingText","handleEscUp","evt","key","closePopup","openPopup","popupElement","classList","add","addEventListener","remove","removeEventListener","objectElements","config","baseUrl","headers","authorization","checkErrorPromise","res","ok","json","then","err","statusCode","status","Promise","reject","likesCards","id","like","fetch","concat","method","deleteCardServer","createCard","card","newCard","cloneNode","cardTitle","cardImg","buttonDeleteCard","numberLikeCard","likeCard","likes","link","alt","setAttribute","owner","getAttribute","map","item","includes","element","contains","changeLike","catch","error","console","log","checkLikes","target","idCard","closest","deleteCard","toggle","hideInputError","formElement","inputElement","errorElement","toggleButtonState","inputList","buttonElement","some","validity","valid","hasInvalidInput","disabled","enableButton","disableButton","Array","from","forEach","preventDefault","patternMismatch","setCustomValidity","errorMessage","showInputError","validationMessage","checkValidityForm","setEventListeners","popup","reset","value","_ref2","submitter","body","JSON","stringify","prepend","finally","img","_ref","all","posts","append"],"sourceRoot":""}